@page "/ChangePassword"
@inherits ChangePasswordBase
@attribute [Authorize]

<PageTitle>Change Password</PageTitle>

@if (pageStatus == PageStatus.Loading)
{
    <Loading />
}

<EditForm EditContext="@editContext" OnValidSubmit="ChangePasswordHandler">
    <DataAnnotationsValidator />
    <MudCard Class="pa-2 mud-theme-surface mud-surface-text">
        <MudCardHeader Class="pa-2 mud-theme-tertiary mud-tertiary-text">
            <MudText Align="Align.Center" Typo="Typo.h6">Change Password</MudText>
        </MudCardHeader>
        <MudCardContent>
            <Password BindingValue="@mainObject.Password" BindingValueChanged="@((val) => mainObject.Password = val)" For="@(() => mainObject.Password)" />
            <Password BindingValue="@mainObject.NewPassword" BindingValueChanged="@((val) => mainObject.NewPassword = val)" For="@(() => mainObject.NewPassword)" Label="New password" />
            <Password BindingValue="@mainObject.ConfirmNewPassword" BindingValueChanged="@((val) => mainObject.ConfirmNewPassword = val)" For="@(() => mainObject.ConfirmNewPassword)" Label="Confirm new password" />
        </MudCardContent>
        <MudCardActions>
            <MudSpacer />
            <MudButton ButtonType="ButtonType.Submit" Color="Color.Primary" Variant="Variant.Filled">Change Password</MudButton>
        </MudCardActions>
    </MudCard>
</EditForm>